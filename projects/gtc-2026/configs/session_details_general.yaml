version: "1.0"
name: "gtc_2026_session_details"
description: "Extract detailed information from GTC 2026 session pages"

source:
  url: "https://www.nvidia.com/gtc/session-catalog/sessions/gtc26-s81595/"
  options:
    headless: true
    wait_for: "body"
    wait_timeout: 5000

output:
  format: [json, csv]
  path: "output/session_details"

# Single page extraction - extract from entire page body
items:
  - name: session
    selector: "body"
    fields:
      # Speakers - extract from span.p--medium elements
      speakers:
        selector: "span.p--medium"
        extract: text
        # Note: This extracts speaker info in format "Name | Title | Company"
        # Multiple speakers will need to be joined in post-processing

      # Abstract - extract from div with margin-bottom containing paragraphs
      abstract:
        selector: "div[style*='margin-bottom'] p"
        extract: text
        # Note: Extracts all paragraphs, filters needed in post-processing
        # For "Connect With Experts" sessions, split on "Important:"

      # Topics/Industry - extract from body text using regex
      topics:
        selector: "body"
        extract: text
        transform:
          regex: 'Industry:\s*([^\n]+)'
          group: 1

      # NVIDIA Technologies - extract from labeled elements
      nvidia_technologies:
        selector: "div[style*='padding-bottom']:has(b:has-text('NVIDIA Technology'))"
        extract: text
        # Note: Contains both label and value, needs cleaning in post-processing

schema:
  fields:
    - name: speakers
      required: false
    - name: abstract
      required: false
    - name: topics
      required: false
    - name: nvidia_technologies
      required: false

# Custom extraction configuration for batch_extract.py
# This section is not part of standard extract skill format
# but used by our custom batch extraction script
custom:
  selectors:
    speakers:
      html: "span.p--medium"
    abstract:
      container: "div[style*='margin-bottom']"
      paragraphs: "p"
      min_length: 50
    topics:
      industry_pattern: 'Industry:\s*([^\n]+)'
  technologies:
    html_selector:
      label: "b:has-text('NVIDIA Technology')"
      value: "span"
      container: "div[style*='padding-bottom']"
  patterns:
    important_marker: "Important:"
